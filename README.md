cnnでnc比を予測します。

ファイル説明
batch.py バッチによる確率的勾配降下法を行うためのスクリプトです。
libs.py cnnの実装に使う関数群です
prepare_data.py 画像を扱いやすいデータに変換します。
process_data.py prepare_dataで生成されたデータを読み込む際に使います。
README.md このファイルです。
settings.yml 訓練時のデータ数などを変更できます。
train.py このスクリプトを走らせるとprocess_dataでデータを読み込み、cnnによる学習を行います。

cell_data 細胞の画像です。
data prepare_dataで生成されたデータはここに入ります。
saver cnnの変数をsaver内のtmpに保存します。


使い方
1.cell_dataに画像を入れます。ファイルは細胞ごとに分けてもいいです。
2.コマンドプロンプトでCNNに移動し、"python prepare_data.py"でprepare_dataを走らせます。これによって下準備ができました。
3."python train.py"で学習が始まります。



結果
全然うまく予想できてません。lossは正解のnc比と予想のnc比の二乗誤差の平均ですが、0.007くらいでかなり高いです。
最後に表示されるのは10段階ごとの正答率ですが、これも低いです。

50000回学習した場合の出力の例(train用データ600個、validation用250個、test用200個)
[0, 0, 3, 60, 67, 29, 16, 18, 6, 1]
[0, 0, 0, 32, 40, 13, 4, 8, 5, 0]
[-1, -1, 0.0, 0.5333333333333333, 0.5970149253731343, 0.4482758620689655, 0.25, 0.4444444444444444, 0.8333333333333334, 0.0]

一番上の配列は0-10,10-20...90-100%の各段階で正解のnc比がどのように分布しているか
二番目の配列は各段階で学習した結果予想したnc比がどのように分布しているか
三番目の配列は各段階での正答率(+-5%以内で正解とみなす)-1は分母が0であることを示す。
